# Cordys CRM æŠ€èƒ½ for OpenClaw

åƒä¸äººäº¤è°ˆä¸€æ ·ä¸ä½ çš„ Cordys CRM å·¥ä½œåŒºäº¤äº’ã€‚å•†æœºã€è”ç³»äººã€æ½œåœ¨å®¢æˆ· â€” å…¨éƒ¨é€šè¿‡è‡ªç„¶å¯¹è¯ä¸ä½ çš„ AI åŠ©æ‰‹å®Œæˆã€‚

è¿™ä¸ªæŠ€èƒ½æŠŠ Cordys CRM CLI åŒ…è£…åœ¨ OpenClaw ä¼šè¯é‡Œï¼šä½ è¯´ï¼ŒåŠ©æ‰‹å¬ã€è§£æã€æŠŠæ„å›¾æ˜ å°„åˆ° Cordys CRM å‘½ä»¤ï¼Œå†æŠŠç»“æœè¿”å›ç»™ä½ ã€‚

å€ŸåŠ© Prompt çš„åŠ¨æ€è°ƒä¼˜æœºåˆ¶ï¼Œç”¨æˆ·å¯ä»¥åœ¨ä¸ä¿®æ”¹ä»»ä½•åº•å±‚ä»£ç çš„æƒ…å†µä¸‹ï¼Œçµæ´»æ§åˆ¶ OpenClaw çš„è¾“å‡ºæ ¼å¼ã€ç­›é€‰é€»è¾‘å’Œåˆ†é¡µè§„åˆ™ï¼Œè®© AI æ›´è´´åˆå®é™…ä¸šåŠ¡éœ€æ±‚ï¼Œæ˜¾è‘—æå‡äº¤äº’æ•ˆç‡ä¸ä½¿ç”¨ä½“éªŒã€‚

## ä¸ºä»€ä¹ˆè¿™ä¸ªæŠ€èƒ½æœ‰ç”¨

| ç³»ç»Ÿè§†è§’ | ç”¨æˆ·æ„å›¾ | è¾“å‡ºå½¢å¼ |
| --- | --- | --- |
| ğŸ‘‚ ç›‘å¬è‡ªç„¶è¯­è¨€ | æä¾›å…³é”®ä¿¡æ¯ï¼ˆæ¨¡å—ã€æ“ä½œã€æ¡ä»¶ã€å­—æ®µï¼‰ | âš™ï¸ è½¬æ¢ä¸º `cordys` CLIã€åŸå§‹ API æˆ–æ›´å¤æ‚çš„ JSON è¯·æ±‚ |
| ğŸ“¦ ç®€åŒ–é‡å¤ä»»åŠ¡ | éœ€è¦åˆ†é¡µã€æœç´¢ã€åˆ›å»º/æ›´æ–°/åˆ é™¤è®°å½• | âœ… ç›´æ¥æ‰§è¡Œå¹¶è¿”å›ç»“æœ |
| ğŸ“Š åŒæ­¥æŠ¥å‘Š | å¸Œæœ›å®šæœŸçœ‹é”€å”®ç®¡é“ã€æ½œåœ¨å®¢æˆ·ã€å®¢æˆ·æ´»åŠ¨ | ğŸ•“ å¯ä¸ cron æˆ–è„šæœ¬ç»„åˆ |

## é¡¹ç›®ç»“æ„
```
CordysCRM-skills/
â”œâ”€â”€ README.md              # å½“å‰å·¥ç¨‹åŸºæœ¬è¯´æ˜
â”œâ”€â”€ SKILL.md               # åŠ©æ‰‹åœ¨ OpenClaw ä¼šè¯é‡Œå¼•ç”¨çš„ prompt/reference
â”œâ”€â”€ bin/cordys             # å†…ç½® CLIï¼Œå¯ç›´æ¥è¯•ç”¨
â””â”€â”€ references/
    â””â”€â”€ crm-api.md         # API å­—æ®µå’Œè¯·æ±‚ä½“ RFC
```

## å¿«é€Ÿå¼€å§‹

1. `clawdhub install cordys-crm`
2. æŠŠ `bin/cordys` åŠ å…¥ PATHï¼Œæˆ–åœ¨è°ƒç”¨å‰ `cd /Users/â€¦/CordysCRM-skills && ./bin/cordys`
3. åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `.env`

```ini
CORDYS_ACCESS_KEY=ä½ çš„ Access Key
CORDYS_SECRET_KEY=ä½ çš„ Secret Key
CORDYS_CRM_DOMAIN=https://{ä½ çš„åŸŸå}
```

4. è¿è¡Œ `cordys help` ç¡®è®¤ CLI å¯ç”¨
5. ä½ ä¹Ÿå¯ä»¥ç›´æ¥åœ¨ä»“åº“æ ¹ç›®å½•è¿è¡Œ `./bin/cordys`ï¼ˆä¼šç»§æ‰¿ `.env`ï¼‰æ¥éªŒè¯è¿æ¥æ˜¯å¦æˆåŠŸï¼Œè‹¥ domain åŒ…å«éæ ‡å‡†è·¯å¾„ï¼ˆä¾‹å¦‚ `https://crm.example.com/api`ï¼‰ï¼Œè¯·åœ¨ `.env` ä¸­å®Œæ•´å†™å‡ºã€‚
6. åœ¨ OpenClaw ä¼šè¯ä¸­ä»¥è‡ªç„¶è¯­è¨€å‘Šè¯‰æˆ‘ä½ æƒ³è¦åšä»€ä¹ˆï¼Œæˆ‘ä¼šæŠŠå®ƒç¿»è¯‘æˆå‘½ä»¤

## CLI å¸¸ç”¨å‘½ä»¤
```
# åˆ†é¡µåˆ—è¡¨
cordys crm page lead
cordys crm page opportunity
cordys crm page account
cordys crm page pool

# è·å–å•æ¡è®°å½•
cordys crm get lead "1234567890"

# æœç´¢ï¼ˆéœ€è¦å®Œæ•´ JSON bodyï¼‰
cordys crm search opportunity '{"current":1,"pageSize":30,"combineSearch":{"searchMode":"AND","conditions":[]},"keyword":"æµ‹è¯•","filters":[]}'

# è·å–ç»„ç»‡æ¶æ„ï¼Œéœ€è¦æœ‰ç³»ç»Ÿç®¡ç†æƒé™æ‰èƒ½è°ƒç”¨
cordys crm org

# è·å–éƒ¨é—¨æˆå‘˜åˆ—è¡¨
cordys crm members '{"current":1,"pageSize":50,"combineSearch":{"searchMode":"AND","conditions":[]},"keyword":"","departmentIds":["deptId1","deptId2"],"filters":[]}'

# è·Ÿè¿›è®¡åˆ’/è®°å½•æŸ¥è¯¢
cordys crm follow plan lead '{"sourceId":"927627065163785","current":1,"pageSize":10,"keyword":"","status":"ALL","myPlan":false}'
cordys crm follow record account '{"sourceId":"1751888184018919","current":1,"pageSize":10,"keyword":"","myPlan":false}'

# åŸå§‹ API è°ƒç”¨
cordys raw GET /settings/fields?module=account
```

## è·Ÿè¿›è®¡åˆ’ä¸è®°å½•ï¼ˆé€šç”¨æŸ¥è¯¢ï¼‰
å•†æœºã€å®¢æˆ·ã€æ½œåœ¨å®¢æˆ·çš„è·Ÿè¿›è®¡åˆ’å’Œè·Ÿè¿›è®°å½•éƒ½å¯ä»¥å¤ç”¨åŒä¸€å¥—æ¥å£ã€‚
```
cordys crm follow plan <module> '{"sourceId":"<resourceId>","current":1,"pageSize":10,"keyword":"","status":"ALL","myPlan":false}'
cordys crm follow record <module> '{"sourceId":"<resourceId>","current":1,"pageSize":10,"keyword":"","myPlan":false}'
```

- `sourceId` æŒ‡å‘æŸæ¡å•†æœº/å®¢æˆ·/çº¿ç´¢çš„å”¯ä¸€ IDï¼Œå¿…é¡»ä¼ å…¥æ‰èƒ½æ‹‰åˆ°ä¸ä¹‹å…³è”çš„è®¡åˆ’æˆ–è®°å½•ï¼›åªæä¾› `keyword` æ—¶åªåšå…³é”®å­—æ¨¡ç³Šæœç´¢ï¼Œæ— æ³•æ›¿ä»£ `sourceId`ã€‚
- `status` é¢å‘ `plan` æ¥å£ï¼Œæ”¯æŒ `ALL`ã€`UNFINISHED`ã€`FINISHED` ç­‰ï¼ˆä»¥ Cordys æšä¸¾ä¸ºå‡†ï¼‰ï¼Œç”¨æ¥æ§åˆ¶è®¡åˆ’æµè½¬ï¼›`myPlan` æ§åˆ¶æ˜¯å¦åªçœ‹æœ¬äººåˆ›å»ºçš„è®¡åˆ’ã€‚
- `page_payload` é»˜è®¤åªè¡¥é½ `current/pageSize/sort/filters`ï¼Œæ‰€ä»¥å½“ä½ å¸Œæœ›ç­›é€‰ç‰¹å®š `sourceId`/`status`/`myPlan`ï¼Œå¿…é¡»ä»¥ JSON body å½¢å¼ä¼ å…¥å®Œæ•´å­—æ®µã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼Œå¦‚æœä½ åªæä¾›å…³é”®è¯ï¼ŒCLI ä¼šè‡ªåŠ¨è¡¥é½åˆ†é¡µç»“æ„ï¼ˆcurrent=1ã€pageSize=30ã€sort={}ã€filters=[]ï¼‰ã€‚

## å¦‚ä½•å‘Šè¯‰ AI ä½ çš„æ„å›¾ï¼ˆè®©æç¤ºè¯æ›´æ¸…æ™°ï¼‰

| æ„å›¾ç±»åˆ« | ç¤ºä¾‹
| --- | --- |
| åˆ—è¡¨/åˆ†é¡µ | â€œå¸®æˆ‘åˆ—å‡ºæœ¬æœˆæ–°å¢çš„å•†æœºï¼ŒæŒ‰é‡‘é¢æ’åºï¼Œæ¯é¡µ 20 æ¡ã€‚â€ |
| å…¨å±€æœç´¢ | â€œæœç´¢æ‰€æœ‰è´¦æˆ·ï¼Œå…³é”®è¯æ˜¯â€˜é“å¡”â€™ï¼Œåªçœ‹è·Ÿè¿›ä¸­çŠ¶æ€ã€‚â€ |
| è·å–è¯¦æƒ… | â€œæ‰“å¼€ç¼–å· xxx å®¢æˆ·çš„æ½œåœ¨å®¢æˆ·è¯¦æƒ…ã€‚â€ |
| åˆ›å»º/æ›´æ–° | â€œåˆ›å»ºä¸€ä¸ªæ–°å®¢æˆ·ï¼šåç§°`Acme Inc.`ï¼Œè¡Œä¸š`åˆ¶é€ `ï¼Œè´Ÿè´£äºº`æé›·`ã€‚â€ |
| åˆ é™¤/å…¶ä»– | â€œåˆ é™¤åç§° ä¸º xxx çš„æ½œåœ¨å®¢æˆ·ã€‚â€ |
| è·Ÿè¿›è®¡åˆ’/è®°å½• | â€œå¸®æˆ‘æ‰¾å‡º lead 9276 ç›¸å…³çš„æœªå®Œæˆè®¡åˆ’ï¼ŒæŒ‰åˆ›å»ºæ—¶é—´å€’åºã€‚â€ |

> æ¨èæ¨¡æ¿ï¼š
> 1. æ˜ç¡®â€œåšä»€ä¹ˆâ€ï¼ˆåˆ—è¡¨/æœç´¢/åˆ›å»º/æ›´æ–°/åˆ é™¤/è·Ÿè¿›ï¼‰
> 2. æŒ‡å®šâ€œå“ªä¸ªæ¨¡å—â€ï¼ˆlead/account/opportunity/å…¶ä»–ï¼‰
> 3. è¯´æ˜â€œæ¡ä»¶/è¿‡æ»¤/å…³é”®è¯â€æˆ–è¦ä¿®æ”¹çš„å­—æ®µ
> 4. è¯´æ˜â€œåˆ†é¡µ/å‘½ä»¤â€ä¿¡æ¯ï¼ˆä¾‹å¦‚ `current`ã€`pageSize`ã€`follow plan` ç­‰ï¼‰
>
> å¦‚æœè¦è°ƒç”¨è·Ÿè¿›æ¥å£ï¼Œè®°å¾—å¸¦ä¸Š `sourceId`ï¼Œå¹¶æŒ‡æ˜æ˜¯å¦éœ€è¦ `status`-ç±»è¿‡æ»¤æˆ–åªæŸ¥çœ‹è‡ªå·±çš„è®¡åˆ’/è®°å½•ï¼ˆ`myPlan`ï¼‰ã€‚

### ä¾‹å­ï¼ˆAssistant å¯ç›´æ¥è½¬æ¢æˆå‘½ä»¤ï¼‰
- â€œæŸ¥çœ‹æœ¬å‘¨åˆ›å»ºçš„æ‰€æœ‰æ½œåœ¨å®¢æˆ·ï¼Œåˆ†é¡µ 30 æ¡ï¼ŒæŒ‰åˆ›å»ºæ—¶é—´å€’åºã€‚â€
- â€œæœç´¢ opportunity ä¸­åç§°é‡ŒåŒ…å«â€˜å¾ä¿¡â€™çš„è®°å½•ï¼Œåªè¿”å›å‰ 10 æ¡ã€‚â€
- â€œæŠŠå•†æœº 112233 çš„é˜¶æ®µæ”¹ä¸ºâ€˜å•†åŠ¡æ´½è°ˆâ€™ï¼Œé‡‘é¢æ›´æ–°ä¸º 180000ã€‚â€
- â€œåˆ—å‡ºæ‰€æœ‰ä¸Šæµ·åœ°åŒºå®¢æˆ·å¹¶å¯¼å‡ºæ‰‹æœºå·ã€‚â€
- â€œå¸®æˆ‘çœ‹ lead 9276 ç›¸å…³çš„è·Ÿè¿›è®°å½•ã€‚â€

## é”®å€¼æ˜ å°„ï¼ˆæç¤ºè¯ â†’ å®é™…å‘½ä»¤ï¼‰
| ç”¨æˆ·è¯´æ³• | CLI/API æ¨ç† |
| --- | --- |
| â€œåˆ—å‡ºå•†æœºâ€ | `cordys crm page opportunity`ï¼ˆè¿½åŠ  filters/sort/keywordï¼‰ |
| â€œæœç´¢è´¦æˆ·â€ + â€œå…³é”®è¯â€ | `cordys crm search account {â€¦}`ï¼ŒæŠŠå…³é”®è¯è®¾ç½®åœ¨ JSON é‡Œ |
| â€œæŸ¥çœ‹ lead #IDâ€ | `cordys crm get lead ID` |
| â€œåˆ›å»ºè”ç³»äººâ€ | `cordys crm create Contacts '{"data":[{â€¦}]}'` |
| â€œæŸ¥çœ‹æŸæ¡çº¿ç´¢çš„è·Ÿè¿›è®¡åˆ’â€ | `cordys crm follow plan lead '{"sourceId":"...","status":"ALL"}'` |

å¦‚æœä½ æ˜¯æŠ€æœ¯ä½¬ä¹Ÿå¯ä»¥ç›´æ¥ç»™å‡º JSON bodyï¼Œè®© OpenClaw åŸæ ·ä¼ ç»™ `search`/`page`ï¼›ä¹Ÿå¯ä»¥è¦æ±‚å…ˆæ„é€ åŸºç¡€ structure å†æ ¹æ®ä½ çš„ â€œæ¡ä»¶â€ ç»†åŒ–ã€‚

## æ·±åº¦æ“ä½œå‚è€ƒ
- æŸ¥çœ‹ module å­—æ®µå®šä¹‰ï¼š`cordys raw GET /settings/fields?module={æ¨¡å—}`
- è°ƒæ•´æ’åº/è¿‡æ»¤ï¼šåœ¨ `filters` é‡Œå¡« `[{"field":"Stage","operator":"equals","value":"Closed Won"}]`
- åˆ†é¡µå‚æ•°ï¼š`current`, `pageSize`, `viewId`, `keyword`

è¯¦ç»†ç»“æ„è¯·å‚è€ƒ `references/crm-api.md`ã€‚

## è¿›ä¸€æ­¥è‡ªåŠ¨åŒ–
ä½ å¯ä»¥æŠŠè‡ªç„¶è¯­è¨€è¯·æ±‚å°è£…æˆ cron ä»»åŠ¡æˆ–è„šæœ¬ï¼š
```python
# æ¯å¤©æ—©ä¸Š 9 ç‚¹çœ‹ä»Šå¤©æˆäº¤å•†æœº
cron.add({
  "name": "æ¯å¤©æˆäº¤å•†æœº",
  "schedule": {"kind": "cron", "expr": "0 9 * * *"},
  "sessionTarget": "isolated",
  "payload": {
    "kind": "agentTurn",
    "message": "cd /work/CordysCRM-skills && cordys crm page opportunity \"{\"current\":1,\"pageSize\":30,\"keyword\":\"Closed Won\"}\""
  }
})
```
